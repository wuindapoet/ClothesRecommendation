{% extends "base.html" %}
{% block content %}
<section class="section">
    <div class="container">
        <div class="header">
            <h1>Smart Outfit Advisor</h1>
            <p>Select your preferences and location</p>
        </div>

        <div class="content">
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px;">
                <div class="form-group" style="margin-bottom: 0;">
                    <label for="genderSelect">Gender:</label>
                    <select id="genderSelect">
                        <option value="">-- Select Gender --</option>
                        <option value="man">Men</option>
                        <option value="woman">Women</option>
                    </select>
                </div>

                <div class="form-group" style="margin-bottom: 0;">
                    <label for="ageInput">Age:</label>
                    <input type="number" id="ageInput" min="10" max="99" placeholder="Enter age (10-99)"
                        style="width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em; transition: all 0.3s;">
                </div>
            </div>
            
            <div class="form-group">
                <label for="kInput">Number of clothes (k):</label>
                <input type="number"
                    id="kInput"
                    min="1"
                    max="10"
                    value="5"
                    placeholder="Enter number of clothes"
                    style="width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0;
                            border-radius: 8px; font-size: 1em;">
            </div>

            <div class="form-group">
                <label for="occasionSelect">Occasion:</label>
                <select id="occasionSelect">
                    <option value="">-- Select Occasion --</option>
                    <option value="casual">Casual</option>
                    <option value="ethnic">Ethnic</option>
                    <option value="formal">Formal</option>
                    <option value="home">Home</option>
                    <option value="party">Party</option>
                    <option value="smart_casual">Smart Casual</option>
                    <option value="sports">Sports</option>
                    <option value="travel">Travel</option>
                </select>
            </div>

            <div class="form-group">
                <label>Choose Location on Map:</label>
                <p style="color: #666; font-size: 0.9em; margin-bottom: 10px;">Search for a location or click anywhere on the map to select</p>

                <!-- Search bar -->
                <div style="position: relative; margin-bottom: 10px;">
                    <input type="text" id="locationSearch" placeholder="Search for a location (e.g., 'Paris', 'Statue of Liberty')"
                        style="width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em;">
                    <div id="searchResults" style="position: absolute; width: 100%; max-height: 300px; overflow-y: auto; background: white; border: 2px solid #e0e0e0; border-top: none; border-radius: 0 0 8px 8px; display: none; z-index: 1000;"></div>
                </div>

                <div id="map"></div>
            </div>

            <div class="info-box" id="locationInfo" style="display: none;">
                <p><strong>Selected Location:</strong></p>
                <p id="latLng">Latitude: -, Longitude: -</p>
            </div>

            <button class="btn" id="submitBtn" disabled>Submit</button>
            <div class="status" id="statusMsg"></div>
            <div class="result-box" id="resultBox">
                <h3>Results:</h3>
                <div id="resultList" class="recommendation-grid"></div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_head %}
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
{% endblock %}
